博客
学院
下载
图文课
论坛
APP
问答
商城
VIP会员
活动
招聘
ITeye
GitChat

搜CSDN
写博客赚零钱传资源
首页 资讯 精华 论坛 问答 博客 专栏 群组 您还未登录 ! 登录
`
abc08010051的博客
abc08010051
浏览: 332099 次
性别:  Icon_minigender_1
来自: 上海

最近访客 更多访客>>
virtualspider的博客virtualspider 存在就合理的博客存在就合理 jadewoo的博客jadewoo xiaolan02的博客xiaolan02
博主相关
博客
微博
相册
收藏
留言
关于我
文章分类
全部博客 (124)
hibernate (7)
spring (18)
java se (32)
jdbc (5)
js (4)
数据库 (1)
ide (2)
Struts2 (1)
有用的链接 (2)
开源框架 (2)
j2ee (2)
spring mvc (4)
weblogic (0)
spring security (4)
web服务器 (5)
maven (2)
多线程 (12)
linux (3)
NIO (1)
webservice (1)
guava (5)
restful (1)
jenkins (1)
ios (1)
ehcache (1)
jvm (1)
深入jvm (2)
akka发 (1)
disruptor (3)
spring boot，异常处理， protobuf (1)
curator (1)
zookeeper (1)
社区版块
我的资讯 ( 0)
我的论坛 ( 1)
我的问答 ( 0)
存档分类
2018-07 ( 1)
2018-01 ( 2)
2017-12 ( 2)
更多存档...
最新评论
abc08010051： 张延龙地盘 写道多实例下就不行了吧是的，多实例直接上分布式锁
java高并发下的唯一性验证
张延龙地盘： 多实例下就不行了吧
java高并发下的唯一性验证
a12345531： s3.getResourceUrl(bucketName, k ...
Amazon AWS S3 上传文件 并获取公用url
544483342： 楼主请问WorkerEventHandler和EventHan ...
disruptor(一) 单一生产者和WorkPool消费者源码阅读
544483342： 请问楼主使用的是什么UML工具啊？
disruptor(一) 单一生产者和WorkPool消费者源码阅读
java.nio.BufferUnderflowException 分析
博客分类： NIO
nioBufferUnderflowExceptionBufferByteBuffer
  在写一个简单的Buffer的小例子的时候，抛出一个异常：

Java代码  收藏代码
Exception in thread "main" java.nio.BufferUnderflowException
    at java.nio.Buffer.nextGetIndex(Buffer.java:498)
    at java.nio.HeapByteBuffer.getChar(HeapByteBuffer.java:253)
    at com.malone.nio.BufferDemo.main(BufferDemo.java:22)
 例子的代码为：

Java代码  收藏代码
public class BufferDemo {

    public static void main(String[] args) throws IOException {
        RandomAccessFile  file = new RandomAccessFile ("D:\\https.txt", "rw");
        FileChannel fc = file.getChannel();
        ByteBuffer b = ByteBuffer.allocate(64);
        while (true) {
            int readFlag = fc.read(b);
            if (readFlag == -1) {
                break;
            }
            b.flip();
            while (b.hasRemaining()) {

                System.out.println(b.getChar() + "    " + b.position() +  "   " + b.remaining());
                        }
            b.clear();
        }
        file.close();
    }
}
 根据异常定位，在打印Buffer里面的内容的时候报错的，仔细分析一下，猜想错误原因可能是：

     调用getChar（）方法，char的字符长度为2个字节，而ByteBuffer的remaining长度为1时，强行获取两个字节应该会抛出异常



基于以上思路，修改例子代码，把打印代码改为：

Java代码  收藏代码
System.out.println(b.getChar() + "    " + b.position() +  "   " + b.remaining());
 控制台打印结构为：

Java代码  收藏代码
쳡    44   20
쪾    46   18
ꎬ    48   16
듋    50   14
솴    52   12
뷓    54   10
늻    56   8
뿉    58   6
탅    60   4
죎    62   2
ꎬ    64   0
퓲    2   19
엤    4   17
훃    6   15
桴    8   13
瑰    10   11
玻    12   9
랾    14   7
뎳    16   5
즹    18   3
ꚣ    20   1
Exception in thread "main" java.nio.BufferUnderflowException
    at java.nio.Buffer.nextGetIndex(Buffer.java:498)
    at java.nio.HeapByteBuffer.getChar(HeapByteBuffer.java:253)
    at com.malone.nio.BufferDemo.main(BufferDemo.java:22)
 有控制台打印结果可以看出，每次从ByteBuffer的数组中每次取出两个字节来打印，并移动position的值，当移动到最后时，position和limit之间只有一个字节时，再试图获取两个字节时，就抛出了异常！



如果在打印ByteBuffer里的内容时，使用ByteBuffer的get（）方法，就不会出现上面的问题，get（）方法每次获取一个字节

分享到：
原子变量 java.util.concurrent.atomic jdk ... | ThreadLocal 管理 HttpSession
2014-04-28 17:16浏览 33425评论(0)分类:编程语言查看更多
评论
发表评论
  您还没有登录,请您登录后再发表评论

相关资源推荐
Java NIO笔记(二)：NIO Buffer(缓冲区)之基础
在Java NIO中，Channel

JavaDecompiler打开class文件
JavaDecompiler

编程语言分析图
在众多行业中，程序员属于高薪职业。无论是在国外还是国内，程序员的薪金水平普遍高于其他行业的工作岗位。 搜集了一天全国各公司发布在拉钩网的招聘数据，共9W多条，分析各大编程语言热度和吸金程度。 从图表中可以看出目前位置java 还是最热的编程语言 有1.7W个岗位需要java语言，全国的各大公司招收最多的，其次是php编程语言。在中国招收Android的还是高于IOS编程。 那么哪种编程语

2018年最流行的十大编程语言及分析介绍
  对于编程界的初学者来说，最大的困难是决定从何处入手，或者应掌握哪种语言才能在职场上平步青云。有时，专业程序员也面临学习一门新语言似乎更卓有成效的情形。 无论是什么原因，下面列出了世界上最流行的编程语言，以便了解哪些语言占主导地位。此列表基于源自TIOBE编程社区指数的数据，该指数是表明编程语言受欢迎程度的常用指标。 TIOBE通过分析谷歌、雅虎、必应、维基媒体、亚马逊、百度和YouTub...

【2016——-编程语言排行以及优缺点分析】
网上一直流传个笑话，相信大家已经耳熟能详了： C++程序员看不起C程序员， C程序员看不起java程序员， java程序员看不起C#程序员， C#程序员看不起美工。 周末了，美工带着妹子出去约会了，一群SX程序员还在加班。哈哈... 然后编程语言大战一触即发。 论坛里偶尔也会听到同行抱怨：这个语言哪里哪里不好不好，那个语言又是如何如何的优秀

对几种主流编程语言的评价
﻿﻿ C语言 虽说C语言在内存管理方面存在严重的缺陷，不过它还是在某些应用领域里称王称霸。对于那些要求最高的效率，良好的实时性，或者与操作系统内核紧密关联的程序来说，C仍然是很好的选择。 C良好的可移植性也为它加了分。不过现在很多其他的语言可移植性越来越好，C在这方面的优势可能会逐渐丧失。 现有的很多程序可以产生非常棒的C代码，比如语法分析器、GUI Builder等，这时候C语言也是有吸

各种编程语言的特点
1.	开放源代码的必要性 在介绍编程语言之前，先说说开放源代码的必要性。现在，在软件生产领域存在巨大的智利浪费，大家把大量的精力用在编写别人已经实现的程序代码上。看看，文本编辑器有多少，看看ftp程序有多少，看看字处理程序有多少，这些程序虽然有差别，但主要的功能都是一样的。要实现个性化的功能，在已有的软件基础上修改会节省多少时间呀！而每个程序各编一套，又浪费多少时间？如果，没有这些重复的工作量，世界上的程序员至少可以节省80%的工作量。同时，开放源代码也方便了大家的交流，阅读源代码应该是最直接最有效的学习途径，尤其是比较专业的领域。 要开放源代码，下面几点比较重要： * 语言要流行。 * 语言的函数和类库统一。 * 语言的语法和编译器要统一。 * 编译器是否开放源代码。 * API是否开放源代码。 语言的可重用性、功能、友好性。 * 语言统一：如果大家都用一种编程语言，都用同样的函数，同样的类库，那么，大家的共同语言就会很多。大家只要学会一种语言，一套函数，一套类库，就可以相互读懂源代码，这样，学习量是最少的；但是语言统一根本是不可能的事，因为各种语言都有其特色，如果取了其中一个优点，通常就会牺牲另一个优点。可是学习新的API浪费程序员大量的时间和精力，尤其是当这个API有大量和其他API重复的功能的时候。 要增加代码的可重用性，要从下面几点着手： * 代码的可读性。如格式、是否接近英语语法和单词。 * 代码的表达能力，也就是简单性，能用最少的语句和单词实现同样的功能。 * 代码的结构性，如函数、模块、类。 语言功能的强大从下面几点来说： * 是否拥有大量的库支持。这是最重要的，要求编写任何功能的程序都有强大的库支持。 * 语法功能是否强大，比如是否有出错处理。是否有指针。 语言的友好性： * 语言包的大小，语言包越小，学习越简单。 * 语言是否有友好的编辑调试环境。 * 语言的可视化和集成编程环境。 2.	简介各种程序语言 注︰在程序语言前划有☆号者，表示它有重大影响，但不代表它优良。

九大编程语言的优劣比较
编程语言之间的对比，一直都是众说纷纭，究竟哪种语言最好，我想没有一个标准答案，对于不同的人和不同的需求来说，对好的定义就不尽相同，但是我们却可以量化具体的指标，在9种主流编程语言之间给人们提供一个对比的参考，图片展示如下： 那么究竟应该选择哪种语言进行学习发展以及就业研究呢？其实，这是一个不必过于纠结的问题，对于目前的主流编程语言来说，每一种语言都有不错的薪资报酬和较好的发展平台和前景。

谈谈编程语言的选择
常常有新人问我，我该学哪一门编程语言呢？编程语言太多了，我都不知道该选择哪一门编程语言来深入学习了！是的，我也曾被这个问题所困恼，当初学习软件编程时也经历了C/Java/C#这样的路线，后来我也接触并使用过C++/Visual Basic/JavaScript/PHP/Python等语言，并了解过一些冷门语言。多年下来，我对编程语言的理解是每个编程语言的出现都有它出现的理由，每个编程语言也都有各自最

几种主流编程语言的优势与不足
转载地址:http://blog.csdn.net/dongfeng9ge/article/details/74634563 在初级程序员阶段，每个人都不可避免遇到选择编程语言和职业方向的难题。我挑选了几个常见的编程语言，分析了优缺点和职业方向，以供想当程序员的人参考。 C/C++ 一句话概括：大多数中国程序员的第一个语言 C语言是面向过程语言在当代的鲁殿灵光，

ByteBuffer的Put和Get的用法和要注意的细节
最近再看java的NIO，里面提到了几个基本的类，其中ByteBuffer是最基础的，用于Channel的读写传输数据使用。下面总结一下我理解的ByteBuffer。 先从代码开始分析 static public void asIntBuffer() { ByteBuffer bBuf = ByteBuffer.allocate(512); bBuf.putI

C++编程语言中的四个调试技巧
1、调试标记 　 　　适用预处理#define定义一个或多个调试标记，在代码中把调试部分使用#ifdef和#endif进行管理。当程序最终调试完成后，只需要使用#undef标记，调试代码就会消失。常用的调试标记为DEBUG， 语句序列： #define DEBUG#ifdef DEBUG调试代码#endif 　 　 2、运行期间调试标记 　 　　在程序

编程语言分析及其应用
编程语言分析及其应用 主要要求实现以下三个部分： Lisp格式到C格式的转换 Lisp格式表达式的计算 Lisp格式表达式的类型检测 实现语言：C++

测试行业的编程语言之争
这篇文章写于Gogole IO 2017的前夜, 话题敏感没敢发布, 结果一觉醒来Kotlin就成Android官方支持的语言了. 所以觉得还是把文章放出来吧. 如下是原文 语言之争是整个IT行业永恒的话题, 那什么样的语言才是测试工程师最适合的语言哪? 这篇文章先抛砖引玉介绍下. 我的编程语言历史 大学时代 C++ ASP 大学的时候老师们教的是java和

主流编程语言的特点以及优缺点（一）
C语言 基本性 1、高级语言：它是把高级语言的基本结构和语句与低级语言的实用性结合起来的工作单元。[ 2、结构式语言：结构式语言的显著特点是代码及数据的分隔化，即程序的各个部分除了必要的信息交流外彼此独立。这种结构化方式可使程序层次清晰，便于使用、维护以及调试。C 语言是以函数形式提供给用户的，这些函数可方便的调用，并具有多种循环、条件语句控制程序流向，从而使程序完全结构化。 4、代码级别

sql语言和一般编程语言区别
1.SQL操作的是数据    SQL是数据库的查询语言，因而可以对系统数据产生持久化影响。在常规编程中，一个错误通常只会造成程序的crash或bug，修改并重新调试往往就可以了；而在SQL中，一个不小心就可能造成系统数据的破坏和丢失。常常有新手执行SQL时，不小心遗漏了DELETE或UPDATE语句中的WHERE子句，这往往是很大的麻烦。    因此，学习和使用SQL，一开始应该养成两个习惯：

哪门编程语言热度最高？
首先，作者表示这次分析的数据主要来源于 GitHub Archive 和 GHTorrent。他通过分析 GitHub Archive 上 7500w+ 个不同的仓库中超过 12.5 亿次的事件（包括推送新代码、fork、star、issue 处理等），每月汇总一次，计算了每种语言的 MAU(月活跃用户数量)。详细的分析说明可查看：https://github.com/benfred/github...

编程语言的可读性
本文是从 Readability in Programming Languages 这篇文章翻译而来。     最近我在网上看到一些人把各种脚本语言放到一起进行比较。脚本语言：PHP, Perl, Python, Ruby。我的第一反应，以及第二反应是：讨厌！我有我自己的偏好，从没向任何人说过。我喜欢可读性好的程序，程序里出现的任何的特殊字符(任何非数字、字母的字符)都会影响我的阅读速度

12种高效率热门编程语言，你会用几个？
导读 编程语言不仅仅面向程序员。如果你是网络工程师、系统管理员、存储管理员或其他基础设施专业人员，知道一种(或两三种)编程语言，都能在工作中派上用场。软件定义基础设施正在迅速进入数据中心，为了管理这种基础设施，用你自己编写的脚本定义网络或软件定义存储软件，会对工作很大的帮助。 此外，由于更多的企业采用开发运维的方法，许多公司力求加大使用自动化的力度。虽然现有的自动化工具可以

learning julia:了解朱莉娅的 生态系统
了解朱莉娅的生态系统 与其他现有的流行编程相比，Julia是一种新的编程语言 语言。 朱莉娅被公开向全世界展示，并在2月成为开源 这一切始于2009年，当时有三位开发人员–Viral Shah，Stefan Karpinski和Jeff Bezanson在麻省理工学院（MIT）的监督下 应用计算小组的Alan Edelman教授开始研究一个项目。 这导致朱莉娅。 所有主要开发商仍然...

联系我们
微信客服
微信客服

QQ客服
QQ客服

kefu@csdn.net QQ客服

客服论坛400-660-0108

工作时间 8:00-22:00

关于我们招聘广告服务 网站地图

百度提供站内搜索 京ICP证09002463号

©1999-2018 江苏乐知网络技术有限公司

江苏知之为计算机有限公司 北京创新乐知信息技术有限公司版权所有

经营性网站备案信息 网络110报警服务

北京互联网违法和不良信息举报中心

中国互联网举报中心

 Global site tag (gtag.js) - Google Analytics